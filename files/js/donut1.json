{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "description": "A donut chart showing the distribution of JobSeeker Payment and Youth Allowance recipients by age group for different years.",
    "title": {
        "text": "Proportion of JobSeeker Recipients by Age Group",
        "fontSize": 20,
        "color": "black"
      },
      "width":  200,
      "height": 200,
    "params": [
        {
            "name": "selected_year",
            "value": "2020",
            "bind": {
                "input": "select",
                "options": [
                    "2020",
                    "2021",
                    "2022",
                    "2023",
                    "2024"
                ],
                "labels": [
                    "2020",
                    "2021",
                    "2022",
                    "2023",
                    "2024"
                ],
                "name": "Select Year: "
            }
        }
    ],
    "data": {
        "values": [
            {
                "age_group": "Under 25 years",
                "year": "2020",
                "percentage": 18.28
            },
            {
                "age_group": "25-34 years",
                "year": "2020",
                "percentage": 22.93
            },
            {
                "age_group": "35-44 years",
                "year": "2020",
                "percentage": 30.01
            },
            {
                "age_group": "45-54 years",
                "year": "2020",
                "percentage": 10.32
            },
            {
                "age_group": "55-64 years",
                "year": "2020",
                "percentage": 10.24
            },
            {
                "age_group": "65 and over",
                "year": "2020",
                "percentage": 1.2
            },
            {
                "age_group": "Under 25 years",
                "year": "2021",
                "percentage": 19.07
            },
            {
                "age_group": "25-34 years",
                "year": "2021",
                "percentage": 21.42
            },
            {
                "age_group": "35-44 years",
                "year": "2021",
                "percentage": 18.71
            },
            {
                "age_group": "45-54 years",
                "year": "2021",
                "percentage": 19.16
            },
            {
                "age_group": "55-64 years",
                "year": "2021",
                "percentage": 19.28
            },
            {
                "age_group": "65 and over",
                "year": "2021",
                "percentage": 2.36
            },
            {
                "age_group": "Under 25 years",
                "year": "2022",
                "percentage": 16.12
            },
            {
                "age_group": "25-34 years",
                "year": "2022",
                "percentage": 19.03
            },
            {
                "age_group": "35-44 years",
                "year": "2022",
                "percentage": 18.45
            },
            {
                "age_group": "45-54 years",
                "year": "2022",
                "percentage": 20.17
            },
            {
                "age_group": "55-64 years",
                "year": "2022",
                "percentage": 21.68
            },
            {
                "age_group": "65 and over",
                "year": "2022",
                "percentage": 4.54
            },
            {
                "age_group": "Under 25 years",
                "year": "2023",
                "percentage": 15.58
            },
            {
                "age_group": "25-34 years",
                "year": "2023",
                "percentage": 18.86
            },
            {
                "age_group": "35-44 years",
                "year": "2023",
                "percentage": 18.42
            },
            {
                "age_group": "45-54 years",
                "year": "2023",
                "percentage": 20.25
            },
            {
                "age_group": "55-64 years",
                "year": "2023",
                "percentage": 22.07
            },
            {
                "age_group": "65 and over",
                "year": "2023",
                "percentage": 4.81
            },
            {
                "age_group": "Under 25 years",
                "year": "2024",
                "percentage": 17.12
            },
            {
                "age_group": "25-34 years",
                "year": "2024",
                "percentage": 19.83
            },
            {
                "age_group": "35-44 years",
                "year": "2024",
                "percentage": 16.42
            },
            {
                "age_group": "45-54 years",
                "year": "2024",
                "percentage": 18.52
            },
            {
                "age_group": "55-64 years",
                "year": "2024",
                "percentage": 21.83
            },
            {
                "age_group": "65 and over",
                "year": "2024",
                "percentage": 6.29
            }
        ]
    },
    "transform": [
        {
            "filter": "datum.year == selected_year"
        }
    ],
    "mark": {
        "type": "arc",
        "innerRadius": 50
    },
    "encoding": {
        "theta": {
            "field": "percentage",
            "type": "quantitative"
        },
        "color": {
            "field": "age_group",
            "type": "nominal",
            "scale": { "scheme": "magma" },
            "legend": {
                "title": "Age Group"
            }
        },
        "tooltip": [
            {
                "field": "age_group",
                "type": "nominal",
                "title": "Age Group"
            },
            {
                "field": "percentage",
                "type": "quantitative",
                "title": "Percentage (%)"
            }
        ]
    },
    "config": {},
    "background": "#F5F5F5"
}